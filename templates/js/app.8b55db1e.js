(function(){"use strict";var e={3843:function(e,t,a){var n=a(9242),o=a(3396);function r(e,t,a,n,r,l){const s=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(s)}var l={name:"App",components:{}},s=a(89);const i=(0,s.Z)(l,[["render",r]]);var d=i,u=a(2026),c={methods:{getTitle:function(){const{title:e}=this.$options;if(e)return"function"===typeof e?e.call(this):e}},created(){const e=this.getTitle(this);e&&(document.title=e)}},p=a(1957),f=a(2483),g=a(7139);const m=e=>((0,o.dD)("data-v-2a350724"),e=e(),(0,o.Cn)(),e),h={class:"container"},y=m((()=>(0,o._)("h1",null,"Создание графа знаний",-1))),w={class:"container graph_box"};function b(e,t,a,r,l,s){const i=(0,o.up)("b-alert"),d=(0,o.up)("b-form-input"),u=(0,o.up)("b-form-textarea"),c=(0,o.up)("b-button"),p=(0,o.up)("b-form-checkbox"),f=(0,o.up)("v-edge-label"),m=(0,o.up)("v-network-graph"),b=(0,o.up)("PredTable");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(n.W3,null,{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(i,{show:"",variant:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,g.zw)(l.warning_text),1)])),_:1},512),[[n.F8,l.show]])])),_:1}),(0,o._)("div",h,[y,(0,o._)("div",null,[(0,o.Wm)(d,{modelValue:l.temp.f1,"onUpdate:modelValue":t[0]||(t[0]=e=>l.temp.f1=e),placeholder:"Факт1"},null,8,["modelValue"])]),(0,o._)("div",null,[(0,o.Wm)(d,{modelValue:l.temp.r,"onUpdate:modelValue":t[1]||(t[1]=e=>l.temp.r=e),placeholder:"Отношение"},null,8,["modelValue"])]),(0,o._)("div",null,[(0,o.Wm)(d,{modelValue:l.temp.f2,"onUpdate:modelValue":t[2]||(t[2]=e=>l.temp.f2=e),placeholder:"Факт2"},null,8,["modelValue"])]),(0,o.Wm)(u,{id:"textarea",modelValue:l.textArray,"onUpdate:modelValue":t[3]||(t[3]=e=>l.textArray=e),placeholder:"",rows:"3","max-rows":"6"},null,8,["modelValue"]),""!==l.temp.f1&&""!==l.temp.r&&""!==l.temp.f2?((0,o.wg)(),(0,o.j4)(c,{key:0,onClick:s.addText,variant:"outline-primary"},{default:(0,o.w5)((()=>[(0,o.Uk)("Добавить отношение")])),_:1},8,["onClick"])):((0,o.wg)(),(0,o.j4)(c,{key:1,onClick:s.addText,variant:"outline-primary",disabled:""},{default:(0,o.w5)((()=>[(0,o.Uk)("Добавить отношение")])),_:1},8,["onClick"])),""!==l.textArray?((0,o.wg)(),(0,o.j4)(c,{key:2,variant:"outline-success",onClick:s.sendData},{default:(0,o.w5)((()=>[(0,o.Uk)("Создать граф")])),_:1},8,["onClick"])):((0,o.wg)(),(0,o.j4)(c,{key:3,variant:"outline-warning",disabled:""},{default:(0,o.w5)((()=>[(0,o.Uk)("Создать граф")])),_:1})),""!==l.textArray?((0,o.wg)(),(0,o.j4)(c,{key:4,variant:"outline-danger",onClick:s.clearAll},{default:(0,o.w5)((()=>[(0,o.Uk)("Очистить")])),_:1},8,["onClick"])):((0,o.wg)(),(0,o.j4)(c,{key:5,variant:"outline-danger",disabled:""},{default:(0,o.w5)((()=>[(0,o.Uk)("Очистить")])),_:1})),(0,o.Wm)(p,{size:"sm",modelValue:l.flag,"onUpdate:modelValue":t[4]||(t[4]=e=>l.flag=e)},{default:(0,o.w5)((()=>[(0,o.Uk)("Предсказать связи")])),_:1},8,["modelValue"])]),(0,o.wy)((0,o._)("div",w,[(0,o.Wm)(m,{class:"graph",nodes:l.nodes,edges:l.edges,layouts:l.layouts},{"edge-label":(0,o.w5)((({edge:e,...t})=>[(0,o.Wm)(f,(0,o.dG)({text:e.label,align:"center","vertical-align":"above"},t),null,16,["text"])])),_:1},8,["nodes","edges","layouts"])],512),[[n.F8,l.ready]]),(0,o.wy)((0,o.Wm)(b,{table:l.table,"onUpdate:table":t[5]||(t[5]=e=>l.table=e)},null,8,["table"]),[[n.F8,!0===l.flag&&!0===l.ready]])],64)}a(7658);var v=a(6265),k=a.n(v);const x=()=>"/";function _(){const e=k().create({baseURL:x()});return e}var O=_();const S={class:"container"},j=(0,o._)("h3",null,"Таблица предсказания связей (Индекс Adamic/Adar)",-1);function V(e,t,a,n,r,l){const s=(0,o.up)("b-list-group-item"),i=(0,o.up)("b-list-group");return(0,o.wg)(),(0,o.iD)("div",S,[j,(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.table,(e=>((0,o.wg)(),(0,o.j4)(s,{key:e.probability},{default:(0,o.w5)((()=>[(0,o.Uk)("Node1: "+(0,g.zw)(e.node1)+" Node2: "+(0,g.zw)(e.node2)+" P: "+(0,g.zw)(e.probability),1)])),_:2},1024)))),128))])),_:1})])}var U={name:"PredTable",props:{table:[]},watch:{table(){console.log(this.table)}}};const A=(0,s.Z)(U,[["render",V]]);var N=A,T={name:"MainView",title:"Graph",components:{PredTable:N},data(){return{temp:{f1:"",r:"",f2:""},array:[],textArray:"",table:[],flag:!1,show:!1,warning_text:"",nodes:{node1:{name:"Node 1"},node2:{name:"Node 2"},node3:{name:"Node 3"},node4:{name:"Node 4"}},edges:{edge1:{source:"node1",target:"node2"},edge2:{source:"node2",target:"node3"},edge3:{source:"node3",target:"node4"}},layouts:{nodes:{node1:{x:0,y:0},node2:{x:50,y:50},node3:{x:100,y:0},node4:{x:150,y:50}}},ready:!1}},methods:{closeAlert(){this.show=!1,this.warning_text=""},clearFields(){this.temp.f1="",this.temp.r="",this.temp.f2=""},addText(){if(this.temp.f1===this.temp.f2)return this.warning_text="Петли не допустимы!",this.show=!0,this.clearFields(),void setTimeout(this.closeAlert,2e3);var e={...this.temp};this.array.push(e),this.textArray+=`${this.temp.f1},${this.temp.r},${this.temp.f2}\n`,this.clearFields()},async sendData(){try{var e={};e=this.flag?{data:this.array,flag:!0}:{data:this.array,flag:!1};const t=await O.post("api/makegraph",e);200===t.status&&(localStorage.setItem("nodes",JSON.stringify(t.data.response.nodes)),localStorage.setItem("edges",JSON.stringify(t.data.response.edges)),localStorage.setItem("layouts",JSON.stringify(t.data.response.layouts)),t.data.response.table&&(this.table=t.data.response.table))}catch(t){this.warning_text="Ошибка отправки запроса!",this.show=!0,setTimeout(this.closeAlert,2e3)}finally{this.nodes=JSON.parse(localStorage.getItem("nodes")),this.edges=JSON.parse(localStorage.getItem("edges")),this.layouts=JSON.parse(localStorage.getItem("layouts")),this.ready=!0}},clearAll(){this.array=[],this.clearFields(),this.textArray=""}}};const W=(0,s.Z)(T,[["render",b],["__scopeId","data-v-2a350724"]]);var C=W;function P(e,t,a,n,r,l){const s=(0,o.up)("v-network-graph");return(0,o.wg)(),(0,o.j4)(s,{class:"graph",nodes:r.nodes,edges:r.edges,layouts:r.layouts},null,8,["nodes","edges","layouts"])}var I={name:"GraphView",data(){return{nodes:null,edges:null,layouts:null}},mounted(){this.nodes=JSON.parse(localStorage.getItem("nodes")),this.edges=JSON.parse(localStorage.getItem("edges")),this.layouts=JSON.parse(localStorage.getItem("layouts"))}};const J=(0,s.Z)(I,[["render",P]]);var F=J;const D=[{path:"/",component:C},{path:"/graph",component:F}],Z=(0,f.p7)({history:(0,f.PO)("/"),routes:D});var z=Z;const M=(0,n.ri)(d);M.use(u.ZP).use(p.ZP).use(z).mixin(c).mount("#app")}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,r){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],r=e[u][2];for(var s=!0,i=0;i<n.length;i++)(!1&r||l>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(s=!1,r<l&&(l=r));if(s){e.splice(u--,1);var d=o();void 0!==d&&(t=d)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,o,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,r,l=n[0],s=n[1],i=n[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(i)var u=i(a)}for(t&&t(n);d<l.length;d++)r=l[d],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},n=self["webpackChunkuntitled"]=self["webpackChunkuntitled"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(3843)}));n=a.O(n)})();
//# sourceMappingURL=app.8b55db1e.js.map